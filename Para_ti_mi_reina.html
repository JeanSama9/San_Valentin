<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Para Ti, Mi Amor</title>
  <meta name="description" content="Una flor, una cuenta regresiva y un mensaje de amor para cada dÃ­a.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;700&family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-1: #fff4e6;
      --bg-2: #ffd8b5;
      --bg-3: #ffe8cc;
      --card: rgba(255, 255, 255, 0.7);
      --line: rgba(167, 94, 73, 0.35);
      --title: #6b2f1f;
      --text: #5b3a2f;
      --petal-a: #ff9f9f;
      --petal-b: #f78da7;
      --center: #ffd166;
      --accent: #b23a48;
      --ok: #2a9d8f;
      --shadow: 0 14px 40px rgba(99, 37, 22, 0.17);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      min-height: 100%;
    }

    body {
      font-family: "Manrope", sans-serif;
      color: var(--text);
      background:
        radial-gradient(circle at 16% 14%, rgba(255, 255, 255, 0.82), transparent 44%),
        radial-gradient(circle at 80% 22%, rgba(255, 214, 165, 0.55), transparent 40%),
        radial-gradient(circle at 30% 80%, rgba(247, 141, 167, 0.18), transparent 38%),
        linear-gradient(135deg, var(--bg-1), var(--bg-2), var(--bg-3));
      display: grid;
      place-items: center;
      overflow-x: hidden;
      padding: 22px 14px;
    }

    .scene {
      position: fixed;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
    }

    .petal-float {
      position: absolute;
      top: -12vh;
      width: 14px;
      height: 22px;
      border-radius: 70% 70% 70% 70%;
      background: linear-gradient(170deg, rgba(255, 178, 191, 0.95), rgba(247, 141, 167, 0.85));
      transform-origin: center;
      opacity: 0.85;
      animation: fall linear infinite;
      filter: drop-shadow(0 4px 4px rgba(126, 43, 65, 0.18));
    }

    @keyframes fall {
      0% {
        transform: translate3d(0, -12vh, 0) rotate(0deg);
      }
      100% {
        transform: translate3d(var(--drift), 112vh, 0) rotate(360deg);
      }
    }

    .card {
      width: min(100%, 470px);
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 28px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(7px);
      -webkit-backdrop-filter: blur(7px);
      padding: 22px 18px 20px;
      position: relative;
      z-index: 1;
    }

    .headline {
      text-align: center;
      margin-bottom: 12px;
    }

    .headline h1 {
      font-family: "Cormorant Garamond", serif;
      font-size: clamp(2rem, 6vw, 2.7rem);
      line-height: 1.05;
      color: var(--title);
      letter-spacing: 0.3px;
    }

    .headline p {
      font-size: 0.95rem;
      color: #845143;
      margin-top: 6px;
    }

    .flower-wrap {
      display: grid;
      place-items: center;
      margin: 16px 0 14px;
    }

    .flower {
      width: 164px;
      height: 164px;
      position: relative;
      animation: breathe 3.6s ease-in-out infinite;
    }

    @keyframes breathe {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .petal {
      position: absolute;
      inset: 0;
      margin: auto;
      width: 56px;
      height: 84px;
      border-radius: 60% 60% 60% 60%;
      background: linear-gradient(180deg, var(--petal-a), var(--petal-b));
      transform-origin: center 73px;
      box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.35);
    }

    .petal:nth-child(1) { transform: rotate(0deg) translateY(-36px); }
    .petal:nth-child(2) { transform: rotate(45deg) translateY(-36px); }
    .petal:nth-child(3) { transform: rotate(90deg) translateY(-36px); }
    .petal:nth-child(4) { transform: rotate(135deg) translateY(-36px); }
    .petal:nth-child(5) { transform: rotate(180deg) translateY(-36px); }
    .petal:nth-child(6) { transform: rotate(225deg) translateY(-36px); }
    .petal:nth-child(7) { transform: rotate(270deg) translateY(-36px); }
    .petal:nth-child(8) { transform: rotate(315deg) translateY(-36px); }

    .center {
      position: absolute;
      inset: 0;
      margin: auto;
      width: 58px;
      height: 58px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #ffe9a6, var(--center) 70%);
      box-shadow: inset 0 -5px 10px rgba(173, 114, 10, 0.25), 0 4px 10px rgba(117, 71, 15, 0.25);
    }

    .stem {
      width: 8px;
      height: 86px;
      margin-top: -6px;
      border-radius: 999px;
      background: linear-gradient(180deg, #5ea86f, #2f7d4b);
      position: relative;
    }

    .stem::before,
    .stem::after {
      content: "";
      position: absolute;
      width: 34px;
      height: 18px;
      border-radius: 100% 0 100% 0;
      background: linear-gradient(180deg, #7cc98a, #429e5e);
      top: 20px;
    }

    .stem::before {
      right: 6px;
      transform: rotate(-25deg);
    }

    .stem::after {
      left: 6px;
      transform: scaleX(-1) rotate(-25deg);
    }

    .count-title {
      text-align: center;
      font-size: 0.92rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--accent);
      margin: 12px 0 8px;
    }

    .countdown {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
      margin-bottom: 14px;
    }

    .box {
      border: 1px solid rgba(178, 58, 72, 0.27);
      border-radius: 14px;
      padding: 10px 4px 8px;
      text-align: center;
      background: rgba(255, 255, 255, 0.6);
    }

    .num {
      display: block;
      font-size: clamp(1.15rem, 5vw, 1.45rem);
      line-height: 1;
      font-weight: 700;
      color: #7c2530;
      font-variant-numeric: tabular-nums;
    }

    .lab {
      font-size: 0.73rem;
      color: #8d5a4d;
      margin-top: 4px;
      text-transform: uppercase;
      letter-spacing: 0.8px;
    }

    .love-box {
      border: 1px solid rgba(166, 87, 76, 0.34);
      background: rgba(255, 248, 243, 0.78);
      border-radius: 16px;
      padding: 14px 12px;
      text-align: center;
      min-height: 96px;
    }

    .love-label {
      font-size: 0.74rem;
      letter-spacing: 0.85px;
      text-transform: uppercase;
      color: #9d6457;
      font-weight: 700;
      margin-bottom: 8px;
    }

    #daily-message {
      font-size: 1.03rem;
      line-height: 1.35;
      font-weight: 600;
      color: #693327;
      transition: opacity 360ms ease;
      opacity: 1;
      min-height: 50px;
      display: grid;
      place-items: center;
    }

    .footer {
      margin-top: 12px;
      text-align: center;
      font-size: 0.85rem;
      color: #855448;
    }

    .done {
      color: var(--ok);
      font-weight: 700;
    }

    @media (max-width: 340px) {
      .card {
        border-radius: 22px;
        padding: 18px 12px 16px;
      }
      .countdown {
        gap: 6px;
      }
      .lab {
        font-size: 0.66rem;
      }
    }
  </style>
</head>
<body>
  <div class="scene" id="scene"></div>

  <main class="card">
    <header class="headline">
      <h1>Para Ti, Mi Amor</h1>
      <p>Cada dÃ­a mÃ¡s cerca de abrazarte en Guayaquil.</p>
    </header>

    <section class="flower-wrap" aria-hidden="true">
      <div class="flower">
        <span class="petal"></span>
        <span class="petal"></span>
        <span class="petal"></span>
        <span class="petal"></span>
        <span class="petal"></span>
        <span class="petal"></span>
        <span class="petal"></span>
        <span class="petal"></span>
        <span class="center"></span>
      </div>
      <span class="stem"></span>
    </section>

    <p class="count-title">Cuenta Regresiva al 20 de Marzo</p>
    <section class="countdown" aria-label="Cuenta regresiva">
      <article class="box"><span class="num" id="days">0</span><span class="lab">DÃ­as</span></article>
      <article class="box"><span class="num" id="hours">0</span><span class="lab">Horas</span></article>
      <article class="box"><span class="num" id="minutes">0</span><span class="lab">Min</span></article>
      <article class="box"><span class="num" id="seconds">0</span><span class="lab">Seg</span></article>
    </section>

    <section class="love-box" aria-live="polite">
      <p class="love-label">Mensaje del DÃ­a</p>
      <p id="daily-message"></p>
    </section>

    <p class="footer" id="footer-note">Nos vemos en Guayaquil, mi vida.</p>
  </main>

  <script>
    const messages = [
      "Dia 37: Hoy empieza la cuenta bonita, un dia menos para abrazarte en Guayaquil.",
      "Dia 36: Te pienso y todo me sale mejor, porque tu amor me acompana.",
      "Dia 35: Aunque haya distancia, contigo me siento en casa.",
      "Dia 34: Cada mensaje tuyo me reinicia el corazon en modo felicidad.",
      "Dia 33: Mi plan favorito sigue siendo el mismo: tu y yo.",
      "Dia 32: Gracias por quererme tan bonito incluso desde lejos.",
      "Dia 31: Hoy te extrano fuerte, pero tambien te amo mas fuerte.",
      "Dia 30: Faltan 30 dias y ya siento tus manos en las mias.",
      "Dia 29: Si sonries hoy, quiero creer que llegue hasta ti de alguna forma.",
      "Dia 28: Tu eres esa persona que vuelve precioso cualquier dia normal.",
      "Dia 27: Nos separan kilometros, pero nos une algo inmenso.",
      "Dia 26: Todo vale la pena porque al final siempre estamos tu y yo.",
      "Dia 25: Te debo un abrazo largo por cada noche de distancia.",
      "Dia 24: Cada amanecer me recuerda que estoy mas cerca de verte.",
      "Dia 23: Eres mi calma, mi alegria y mi lugar seguro.",
      "Dia 22: El mundo puede correr rapido; yo solo quiero llegar a ti.",
      "Dia 21: Me enamoras en todos tus detalles, incluso en silencio.",
      "Dia 20: Faltan 20 dias para volver a respirar cerquita de ti.",
      "Dia 19: Tu nombre en mi pantalla siempre mejora mi dia.",
      "Dia 18: Lo nuestro no se cansa, no se enfria, no se rinde.",
      "Dia 17: Hoy tambien te elijo, con ganas y con paciencia.",
      "Dia 16: Pronto voy a cambiar 'te extrano' por 'te tengo aqui'.",
      "Dia 15: Quince dias para el reencuentro mas esperado de mi vida.",
      "Dia 14: Me gusta amarte asi: real, constante y sin pausa.",
      "Dia 13: Cuando llegue, quiero perderme en tu abrazo primero.",
      "Dia 12: Tu sonrisa es mi meta favorita de este mes.",
      "Dia 11: Ya casi, amor. Cada segundo cuenta a nuestro favor.",
      "Dia 10: Diez dias y te prometo besos de bienvenida infinitos.",
      "Dia 9: Nada supera la ilusion de volver a mirarte de frente.",
      "Dia 8: Ocho dias para volver a caminar juntos sin reloj.",
      "Dia 7: Una semana. Te amo mas de lo que caben en palabras.",
      "Dia 6: Seis dias para decirte al oido todo lo que te extrane.",
      "Dia 5: Cinco dias para nuestro abrazo pendiente.",
      "Dia 4: Cuatro dias y mi corazon ya esta haciendo maletas.",
      "Dia 3: Tres dias. Ya casi puedo tocar esta felicidad.",
      "Dia 2: Dos dias, amor. La distancia esta por rendirse.",
      "Dia 1: Manana te veo. Hoy solo late una frase: por fin."
    ];
    const tripMonth = 3;  // marzo
    const tripDay = 20;
    const tripHourInGuayaquil = 0;
    const tripMinuteInGuayaquil = 0;

    const dayEl = document.getElementById("days");
    const hourEl = document.getElementById("hours");
    const minEl = document.getElementById("minutes");
    const secEl = document.getElementById("seconds");
    const messageEl = document.getElementById("daily-message");
    const footerEl = document.getElementById("footer-note");

    function getGuayaquilYear() {
      return Number(new Intl.DateTimeFormat("en-US", { timeZone: "America/Guayaquil", year: "numeric" }).format(new Date()));
    }

    function getTripTimestamp() {
      const year = getGuayaquilYear();
      let target = Date.UTC(year, tripMonth - 1, tripDay, tripHourInGuayaquil + 5, tripMinuteInGuayaquil, 0);
      if (Date.now() > target) {
        target = Date.UTC(year + 1, tripMonth - 1, tripDay, tripHourInGuayaquil + 5, tripMinuteInGuayaquil, 0);
      }
      return target;
    }

    function setDailyMessage() {
      const diff = targetTs - Date.now();
      if (diff <= 0) {
        return;
      }
      const daysLeft = Math.ceil(diff / 86400000);
      const index = Math.max(0, Math.min(messages.length - 1, messages.length - daysLeft));
      messageEl.style.opacity = "0";
      window.setTimeout(() => {
        messageEl.textContent = messages[index];
        messageEl.style.opacity = "1";
      }, 180);
    }
    function pad(value) {
      return String(value).padStart(2, "0");
    }

    const targetTs = getTripTimestamp();
    const dateLabel = new Date(targetTs).toLocaleDateString("es-EC", {
      timeZone: "America/Guayaquil",
      weekday: "long",
      day: "numeric",
      month: "long",
      year: "numeric"
    });
    footerEl.textContent = "Fecha de viaje: " + dateLabel + " (Guayaquil)";

    function tick() {
      const diff = targetTs - Date.now();

      if (diff <= 0) {
        dayEl.textContent = "00";
        hourEl.textContent = "00";
        minEl.textContent = "00";
        secEl.textContent = "00";
        messageEl.textContent = "Hoy te abrazo por fin. Ya no hay distancia, solo nosotros.";
        footerEl.innerHTML = "<span class='done'>LlegÃ³ el dÃ­a de verte, mi amor.</span>";
        return;
      }

      const days = Math.floor(diff / 86400000);
      const hours = Math.floor((diff % 86400000) / 3600000);
      const minutes = Math.floor((diff % 3600000) / 60000);
      const seconds = Math.floor((diff % 60000) / 1000);

      dayEl.textContent = String(days);
      hourEl.textContent = pad(hours);
      minEl.textContent = pad(minutes);
      secEl.textContent = pad(seconds);
    }

    function createFallingPetals() {
      const scene = document.getElementById("scene");
      const count = 22;
      for (let i = 0; i < count; i += 1) {
        const petal = document.createElement("span");
        petal.className = "petal-float";
        const left = Math.random() * 100;
        const duration = 8 + Math.random() * 10;
        const delay = Math.random() * -18;
        const drift = (Math.random() - 0.5) * 42;
        const scale = 0.72 + Math.random() * 0.9;
        petal.style.left = left + "vw";
        petal.style.animationDuration = duration + "s";
        petal.style.animationDelay = delay + "s";
        petal.style.setProperty("--drift", drift + "vw");
        petal.style.transform = "scale(" + scale.toFixed(2) + ")";
        scene.appendChild(petal);
      }
    }

    createFallingPetals();
    setDailyMessage();
    tick();

    setInterval(tick, 1000);
    setInterval(setDailyMessage, 60000);
  </script>
</body>
</html>

